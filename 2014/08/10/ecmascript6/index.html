<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"freefe.cc","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="原文地址：http:&#x2F;&#x2F;www.2ality.com&#x2F;2014&#x2F;08&#x2F;es6-today.html 原文作者：Dr. Axel Rauschmayer （ 译者： 可以在此处了解 ES5.1 的情况 ） ECMAScript 6 （ES6）听起来依旧感觉离我们很远。毕竟，它要到2015年中旬才能成为标准。但是，它的一些特性逐渐出现在一些浏览器中，有其内置的编译器将 ES6编码 转化为 ES5编码。">
<meta property="og:type" content="article">
<meta property="og:title" content="【译】来试试 ECMAScript 6">
<meta property="og:url" content="http://freefe.cc/2014/08/10/ecmascript6/index.html">
<meta property="og:site_name" content="NiYingfeng 的博客">
<meta property="og:description" content="原文地址：http:&#x2F;&#x2F;www.2ality.com&#x2F;2014&#x2F;08&#x2F;es6-today.html 原文作者：Dr. Axel Rauschmayer （ 译者： 可以在此处了解 ES5.1 的情况 ） ECMAScript 6 （ES6）听起来依旧感觉离我们很远。毕竟，它要到2015年中旬才能成为标准。但是，它的一些特性逐渐出现在一些浏览器中，有其内置的编译器将 ES6编码 转化为 ES5编码。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2014-08-10T16:00:00.000Z">
<meta property="article:modified_time" content="2022-03-25T03:27:33.068Z">
<meta property="article:author" content="倪颖峰">
<meta property="article:tag" content="ES">
<meta property="article:tag" content="ES6">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://freefe.cc/2014/08/10/ecmascript6/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>【译】来试试 ECMAScript 6 | NiYingfeng 的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">NiYingfeng 的博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">记录技术、生活与思考</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://freefe.cc/2014/08/10/ecmascript6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="倪颖峰">
      <meta itemprop="description" content="曾在果壳、百度蹦哒，目前在B站活跃">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NiYingfeng 的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          【译】来试试 ECMAScript 6
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2014-08-11 00:00:00" itemprop="dateCreated datePublished" datetime="2014-08-11T00:00:00+08:00">2014-08-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-03-25 11:27:33" itemprop="dateModified" datetime="2022-03-25T11:27:33+08:00">2022-03-25</time>
              </span>

          
            <span id="/2014/08/10/ecmascript6/" class="post-meta-item leancloud_visitors" data-flag-title="【译】来试试 ECMAScript 6" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>原文地址：<a target="_blank" rel="noopener" href="http://www.2ality.com/2014/08/es6-today.html">http://www.2ality.com/2014/08/es6-today.html</a> 原文作者：Dr. Axel Rauschmayer （ 译者： 可以在此处了解 ES5.1 的情况 ） ECMAScript 6 （ES6）听起来依旧感觉离我们很远。毕竟，它要到2015年中旬才能成为标准。但是，它的一些特性逐渐出现在一些浏览器中，有其内置的编译器将 ES6编码 转化为 ES5编码。由于 ES6 的特性集为冻结状态，所以通过后者实现是一个不错的解决方案。 本文简述一下 ECMAScript 6 的特性以及介绍一下现在来使用它们的一些工具。</p>
<h3 id="1-ECMAScript-6-的亮点"><a href="#1-ECMAScript-6-的亮点" class="headerlink" title="1. ECMAScript 6 的亮点"></a>1. ECMAScript 6 的亮点</h3><p>本段展现一些 ECMAScript 6 的亮点。</p>
<h3 id="1-1-新语法"><a href="#1-1-新语法" class="headerlink" title="1.1. 新语法"></a>1.1. 新语法</h3><p><code>对象字面量 - 属性值简写（用于后面重构的例子）：</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line">let first = &#x27;Jane&#x27;;</span><br><span class="line">let last = &#x27;Doe&#x27;</span><br><span class="line"></span><br><span class="line">let obj = &#123; first, last &#125;;</span><br><span class="line">// 等同于</span><br><span class="line">let obj = &#123; first:first, last:last &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`对象字面量 - 方法定义：`</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let obj = &#123;</span><br><span class="line">        myMethod( arg0, arg1 )&#123;</span><br><span class="line">                // ...</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`箭头函数：`</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let arr = [ 1,2,3 ];</span><br><span class="line">let squares = arr.map( x =&gt; x\*x );</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`扩展操作符：`</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let arr = [ -1, 7, 2 ];</span><br><span class="line">let highest = Math.max( ...arr ); // 7</span><br><span class="line">new Date( ...[ 2011, 11, 24 ] );</span><br><span class="line">// 非破坏性的链接单个元素</span><br><span class="line">let arr2 = [ ...arr, 9, -6 ]; // [ -1, 7, 2, 9, -6 ]</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`重构：`</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let [ all, year, month, day ] = /^(\d\d\d\d)-(\d\d)-(\d\d)$/.exec(&#x27;20110-12-12&#x27;);</span><br><span class="line">let &#123; first, last &#125; = &#123; first: &#x27;Jane&#x27;, last: &#x27;Doe&#x27; &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`参数默认值`</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function findClosestShape( x=0, y=0 )&#123;</span><br><span class="line">        // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`余参`</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function format( pattern, ...params )&#123;</span><br><span class="line">        // return params;</span><br><span class="line">&#125;</span><br><span class="line">console.log( formart( &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27; ) );</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`通过重构命名参数：`</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class Entries&#123;</span><br><span class="line">        // ...</span><br><span class="line">        selectEntries( &#123; from=0, to=this.length &#125; = &#123;&#125; )&#123;</span><br><span class="line">                // Long: &#123; from: from=0, to: to=this.length &#125;</span><br><span class="line">                // Use &#x27;from&#x27; and &#x27;to&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let entries = new Entriea();</span><br><span class="line">entries.selectEntries( &#123; from:5, to: 15 &#125; );</span><br><span class="line">entries.selectEntries( &#123; from:5 &#125; );</span><br><span class="line">entries.selectEntries( &#123; to: 15 &#125; );</span><br><span class="line">entries.selectEntries( &#123; &#125; );</span><br><span class="line">entries.selectEntries();</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`模板字符串：`</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">let str = String.raw`This is a text </span><br><span class="line">with multiple lines.</span><br><span class="line"> Escapes are not interpreted,</span><br><span class="line"> \n is not a newline.`</span><br><span class="line"></span><br><span class="line">var parts = &#x27;/2012/10/Page.html&#x27;.match(XRegExp.rx`</span><br><span class="line">                ^ # match at start of string only</span><br><span class="line">                / (?&lt;year&gt; [^/]+ ) # capture top dir name as year</span><br><span class="line">                / (?&lt;month&gt; [^/]+ ) # capture subdir name as month</span><br><span class="line">                / (?&lt;title&gt; [^/]+ ) # capture base name as title</span><br><span class="line">                \.html? $ # .htm or .html file ext at end of path</span><br><span class="line">        `);</span><br><span class="line">console.log( parts.year ); // 2012</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`类：`</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">        constructor( nane )&#123;</span><br><span class="line">                this.name = name;</span><br><span class="line">        &#125;</span><br><span class="line">        describe()&#123;</span><br><span class="line">                return &quot;Person called&quot; + this.name;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">// 子类</span><br><span class="line">class Employee extends Person&#123;</span><br><span class="line">        constructor ( name, title )&#123;</span><br><span class="line">                // super.constructor( name )</span><br><span class="line">                super( name );</span><br><span class="line">                this.title = title; </span><br><span class="line">        &#125;</span><br><span class="line">        describe()&#123;</span><br><span class="line">                // super.describe()</span><br><span class="line">                return super() + &quot;(&quot; + this.title + &quot;)&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`内置函数的子类，如 Error 和 Array：`</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">class MyError extends Error&#123;</span><br><span class="line">        // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`for-of 循环（对于所有遵守 ES6 迭代规则的对象均有效）`</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">let arr = [ &#x27;foo&#x27;, &#x27;bar&#x27;, &#x27;baz&#x27; ];</span><br><span class="line"></span><br><span class="line">for( let element of arr )&#123;</span><br><span class="line">        console.log( element );</span><br><span class="line">&#125;</span><br><span class="line">// foo</span><br><span class="line">// bar</span><br><span class="line">// baz</span><br><span class="line"></span><br><span class="line">for( let [ index, element ] of arr.entries() )&#123;</span><br><span class="line">        console.log( index + &quot;.&quot; + element );</span><br><span class="line">&#125;</span><br><span class="line">// foo</span><br><span class="line">// bar</span><br><span class="line">// baz</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`模块化`</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// lib.js</span><br><span class="line">export const sqet = Math.sqrt;</span><br><span class="line">export function square( x )&#123;</span><br><span class="line">        return x * x ;</span><br><span class="line">&#125;</span><br><span class="line">export function diag( x, y )&#123;</span><br><span class="line">        return sqrt( square(x) + square( y ) );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// main.js</span><br><span class="line">import &#123; square, diag &#125; from &#x27;lib&#x27;;</span><br><span class="line">console.log( square( 11 ) ); // 121</span><br><span class="line">console.log( diag( 4, 3 ) ); // 5</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 1.2. 标准库中的新功能</span><br><span class="line"></span><br><span class="line">`Object.assign() ：`</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">class Point &#123;</span><br><span class="line">        constructor( x, y )&#123;</span><br><span class="line">                Object.assign( this, &#123; x, y &#125; );</span><br><span class="line">                // ES6中 &#123; x, y &#125; 为 &#123; x : x, y : y &#125; 缩写。</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`Array.prototype.findIndex()：`</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[ 6, 8, -5 ].findIndex( x =&gt; x&lt;0 ); // 2</span><br><span class="line">[ 6, 8, -5 ].findIndex( x =&gt; x&lt;0 ); // -1</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`Array.prototype.fill()：`</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[ &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27; ].fill( 7 ); // [7, 7, 7]</span><br><span class="line">new Array( 3 ).fill( 7 ); // [7, 7, 7]</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`新字符串方法：`</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x27;hello world&#x27;.startsWith( &#x27;hello&#x27; ); // true</span><br><span class="line">&#x27;*&#x27;.repeart( 5 ); // *****</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`Map（值可以为任何数据格式）：`</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let obj = &#123;&#125;;</span><br><span class="line">let map = new Map();</span><br><span class="line"></span><br><span class="line">map.set( obj, 123 );</span><br><span class="line">map.get( obj ); // 123</span><br><span class="line">map.has( obj ); // true</span><br><span class="line">map.delete( obj ); // true</span><br><span class="line">map.has( obj ); // false</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`Set：`</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let arr = [5, 1, 7, 7, 5];</span><br><span class="line">let unique = [ ...new Set( arr ) ]; // [ 5, 1, 7 ]</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 1.3. 更多 ECMAScript 6 概要</span><br><span class="line"></span><br><span class="line">ECMAScript 6：JavaScript 的下一步棋 es6 特性 https://github.com/lukehoban/es6features#readme es6 利刃 https://github.com/hemanth/paws-on-es6</span><br><span class="line">### 2. 现在就是用 ECMAScript 6</span><br><span class="line">ECMAScript 6 特性开始不断在各种引擎中出现。你可以预览一下 Kangax 的” ECMAScript 6 兼容性表“来知道各个引擎的支持情况。 但对于现实中的项目，你还需要借助一些工具来使当前引擎使用 ECMAScript 6： &quot;es6-tools&quot;（https://github.com/addyosmani/es6-tools） ：就是这样一个完整的工具列表。 &quot;ES.next showcase&quot; （https://github.com/sindresorhus/esnext-showcase） ：展示了实际使用 ECMAScript 6 的特性。两个实例： 下一版本的 Ember.js 将通过 ES6 的模块 Transplier 来支持 ES6 模块。 下一个版本的 ArgularJS 将通过 Traceur 来支持 ES6 模块。 以下将介绍一些 ES6 应用的工具。</span><br><span class="line">### 3. ECMAScript 6 编译器</span><br><span class="line">如果一个工具需要将 ECMAScript 6 代码转换到 ECMAScript 5，那么它的功能需要超越转换器，所以称之为编译器。两个重要的编译器是 TypeScript 和 Traceur。</span><br><span class="line"></span><br><span class="line">### 3.1. TypeScript</span><br><span class="line"></span><br><span class="line">跟踪 ECMAScript 6 代码时 TypeScript 开发者所宣称的目标。因此，该语言允许你为 ECMAScript 6 添加注释（为可选）。 TypeScript 可以通过 npm 方便的安装，IDEs Visual Studio 和 WebStorm 均被支持。 当前的 TypeScript 的模块语法有一点滞后于 ECMAScript 6 的规范。它支持两种模块标准：CJS（Node.js） 和 AMD（RequireJS）。</span><br><span class="line"></span><br><span class="line">### 3.2. Traceur</span><br><span class="line"></span><br><span class="line">Traceur 是最流行的纯 ECMAScript 6 编译器。它对于新特性的支持令人震撼。Traceur 的开发者将它读为 &#x27; tray-SOOR &#x27;。有两种方式来使用 Traceur。 静态形式：构建工具（如 Grunt，Gulp，Broccoli 等）的 Traceur 插件可以在开发时将 ES6 文件自动编译为 ES5 文件。查看 es6 工具详情（https://github.com/addyosmani/es6-tools） 动态形式：如果你的 web 应用里有 Traceur 那么你可以通过给 script 标签赋值 type 属性为 module 进行 ES6 编译。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;output&quot;&gt;&lt;/div&gt; </span><br><span class="line">&lt;script src=&quot;https://google.github.io/traceur-compiler/bin/traceur.js&quot;&gt;&lt;/script&gt; </span><br><span class="line">&lt;script src=&quot;https://google.github.io/traceur-compiler/src/bootstrap.js&quot;&gt;&lt;/script&gt; </span><br><span class="line">&lt;script type=&quot;module&quot;&gt; </span><br><span class="line">        var output = document.getElementById(&#x27;output&#x27;); </span><br><span class="line">        var w = &#x27;world&#x27;; </span><br><span class="line">        output.textContent = `Hello $&#123;w&#125;!`; </span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>&#96;&#96;&#96;</p>
<p>你可以通过传递一个编译参数来使 Traceur 使用确定的模块标准： 1. ES6 的模块加载API 2. AMD（RequireJS） 3. CJS（Node.js）</p>
<h3 id="4-模块系统-以及-ECMAScript-6"><a href="#4-模块系统-以及-ECMAScript-6" class="headerlink" title="4. 模块系统 以及 ECMAScript 6"></a>4. 模块系统 以及 ECMAScript 6</h3><p>一些现有的和新的 JavaScript 模块系统都通过现成的或者插件的方式来支持 ECMAScript 6。 1. AMD 和 CJS：ES 6 模块编译器（<a target="_blank" rel="noopener" href="https://github.com/square/es6-module-transpiler%EF%BC%89%E5%8A%A0%E5%85%A5%E4%BA%86%E5%B0%86">https://github.com/square/es6-module-transpiler）加入了将</a> ECMAScript 6 模块语法转移为 ECMAScript 5 将其编译为 AMD 或者 CJS。极简风格的解决方案较为吸引人。 2. Browserify：通过基于 Traceur 的 es6ify（<a target="_blank" rel="noopener" href="https://github.com/thlorenz/es6ify%EF%BC%89">https://github.com/thlorenz/es6ify）</a> 转换来支持 ES6。 3. webpack（<a target="_blank" rel="noopener" href="https://github.com/webpack/webpack%EF%BC%89%E6%9D%A5%E8%87%AA%E7%8E%B0%E6%9C%89%E7%9A%84">https://github.com/webpack/webpack）来自现有的</a> ECMAScript 6 支持。 4. ES6 模块加载补充：基于 ES6 API 和 在Node.js和当前浏览器中动态加载 ES6 模块。以下面两个工具进行补充： SystemJS：基于 ES6 的模块加载器，除了加载 ES6 模块之外还加载 AMD 和 CJS 模块。 jspm.io：为 SystemJS 而出现的包管理器。</p>
<h3 id="5-ECMAScript-6-命令行"><a href="#5-ECMAScript-6-命令行" class="headerlink" title="5. ECMAScript 6 命令行"></a>5. ECMAScript 6 命令行</h3><p>JavaScript 命令行是测试特性常用的交互方式。这边简单介绍下可以是使用 ECMAScript 6 语法的命令行。</p>
<h3 id="5-1-ES6-Fiddle"><a href="#5-1-ES6-Fiddle" class="headerlink" title="5.1. ES6 Fiddle"></a>5.1. ES6 Fiddle</h3><p>Jeff 编写的 ES6 Fiddle（<a target="_blank" rel="noopener" href="http://www.es6fiddle.com/%EF%BC%89%E6%98%AF%E4%B8%80%E6%AC%BE%E5%9F%BA%E4%BA%8E">http://www.es6fiddle.com/）是一款基于</a> Traceur 的 ECMAScript 6 命令行工具。你可以点击工具栏的一个图标来通过 URL 和唯一的 ID 来保存一个实例。</p>
<h3 id="5-2-Traceur-转码-demo"><a href="#5-2-Traceur-转码-demo" class="headerlink" title="5.2. Traceur 转码 demo"></a>5.2. Traceur 转码 demo</h3><p>Traceur 有它自己的 demo 交互页面（<a target="_blank" rel="noopener" href="http://google.github.io/traceur-compiler/demo/repl.html%EF%BC%89%E3%80%82%E8%BF%99%E6%98%AF%E4%B8%80%E4%BA%9B%E9%A1%B5%E9%9D%A2%E7%9A%84%E6%8F%90%E7%A4%BA%EF%BC%9A">http://google.github.io/traceur-compiler/demo/repl.html）。这是一些页面的提示：</a> 1. 你可以打开控制台，通过 console.log() 看到所有你输入到控制台的 ES6 源码。 2. ES6 的源码都被添加到页面的 URL 中，所以你可以通过分享 URL 来分享 ES6 实例。 3. Traceur 在 ES5 中实现了许多 ES6 的方法，意味着你可以在控制台中直接使用例如 Array.form() 之类的方法。 4. let 和 const 变量声明仍在实验阶段，可以通过参数来打开。但是生成的代码较多。幸好这些计划（<a target="_blank" rel="noopener" href="https://github.com/google/traceur-compiler/issues/6%EF%BC%89%E6%9E%81%E5%A4%A7%E7%9A%84%E6%8F%90%E9%AB%98%E4%BA%86%E5%AF%B9">https://github.com/google/traceur-compiler/issues/6）极大的提高了对</a> let 和 const 的支持：比如，Traceur 可以用多种方式将 let 转到 var ，这样就不会有较大耗损性的使用let（前瞻性的）。</p>
<h3 id="6-ECMAScript-6-shims"><a href="#6-ECMAScript-6-shims" class="headerlink" title="6. ECMAScript 6 shims"></a>6. ECMAScript 6 shims</h3><p>Shims 是一些将未来系统属性模拟到当前系统中的一些库。ECMAScript 6 标准库中包含有趣的新功能，这些功能一般都可以通过库来反向编译为 ECMAScript 5。 1. es6-shim（<a target="_blank" rel="noopener" href="https://github.com/paulmillr/es6-shim%EF%BC%89%EF%BC%9A%E6%94%AF%E6%8C%81%E5%A4%9A%E7%A7%8D">https://github.com/paulmillr/es6-shim）：支持多种</a> ECMAScript 6 标准库中的特性。 2. ECMAScript 6 promises 的 Shims（Traceur 有它自己的 promise polyfill）： RSVP.js（<a target="_blank" rel="noopener" href="https://github.com/tildeio/rsvp.js/%EF%BC%89%EF%BC%9A%E6%98%AF">https://github.com/tildeio/rsvp.js/）：是</a> ES6 API 的一个超集。 es6-promise（<a target="_blank" rel="noopener" href="https://github.com/jakearchibald/es6-promise%EF%BC%89%E6%98%AF">https://github.com/jakearchibald/es6-promise）是</a> RSVP.js 的子集，仅包含ES6 API。 Q.Promise 与 ES 6 兼容。</p>
<h3 id="7-那么继续学习-ECMAScript-5-还有意义么？"><a href="#7-那么继续学习-ECMAScript-5-还有意义么？" class="headerlink" title="7. 那么继续学习 ECMAScript 5 还有意义么？"></a>7. 那么继续学习 ECMAScript 5 还有意义么？</h3><p>众所周知，你现在已经完全可以使用 ECMAScript 6 的代码来避免旧版本的 JavaScript。那是否就意味着我们再也不需要学习 ECMAScript 5了？当然不是，举几个原因： 1. ECMAScript 6 是 ECMAScript 5 的一个超集，新版本 JavaScript 绝对不能破坏旧版本代码。那么你学习 ECMAScript 5并不会白费。 2. 有一部分 ECMAScript 6 特性是替换 ECMAScript 5 的特性的，但是前提是依旧可以使用。两个例子： classes 在内部转为构造函数，method 仍然为函数（因为一直都是）。 3. 只要 ECMAScript 6 被转义为 ECMAScript 5，那么了解编译过程的输出结果还是有用的。你必须要在一段时间内编译为 ES5（或许是几年），直到你可以在所有相关的浏览器中可以依赖 ES6，如现在依靠 ES5 一样。 4. 理解传统代码依旧是很重要的。</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/ES/" rel="tag"># ES</a>
              <a href="/tags/ES6/" rel="tag"># ES6</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2014/07/28/ecmascript-function-call/" rel="prev" title="【译】ECMAScript 5 与 6 中方法的调度调用和和直接调用">
      <i class="fa fa-chevron-left"></i> 【译】ECMAScript 5 与 6 中方法的调度调用和和直接调用
    </a></div>
      <div class="post-nav-item">
    <a href="/2014/09/08/iframe-height-auto/" rel="next" title="iframe自适应高度">
      iframe自适应高度 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-ECMAScript-6-%E7%9A%84%E4%BA%AE%E7%82%B9"><span class="nav-number">1.</span> <span class="nav-text">1. ECMAScript 6 的亮点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-%E6%96%B0%E8%AF%AD%E6%B3%95"><span class="nav-number">2.</span> <span class="nav-text">1.1. 新语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E6%A8%A1%E5%9D%97%E7%B3%BB%E7%BB%9F-%E4%BB%A5%E5%8F%8A-ECMAScript-6"><span class="nav-number">3.</span> <span class="nav-text">4. 模块系统 以及 ECMAScript 6</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-ECMAScript-6-%E5%91%BD%E4%BB%A4%E8%A1%8C"><span class="nav-number">4.</span> <span class="nav-text">5. ECMAScript 6 命令行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-ES6-Fiddle"><span class="nav-number">5.</span> <span class="nav-text">5.1. ES6 Fiddle</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-Traceur-%E8%BD%AC%E7%A0%81-demo"><span class="nav-number">6.</span> <span class="nav-text">5.2. Traceur 转码 demo</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-ECMAScript-6-shims"><span class="nav-number">7.</span> <span class="nav-text">6. ECMAScript 6 shims</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-%E9%82%A3%E4%B9%88%E7%BB%A7%E7%BB%AD%E5%AD%A6%E4%B9%A0-ECMAScript-5-%E8%BF%98%E6%9C%89%E6%84%8F%E4%B9%89%E4%B9%88%EF%BC%9F"><span class="nav-number">8.</span> <span class="nav-text">7. 那么继续学习 ECMAScript 5 还有意义么？</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">倪颖峰</p>
  <div class="site-description" itemprop="description">曾在果壳、百度蹦哒，目前在B站活跃</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">68</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">139</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/niyingfeng" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;niyingfeng" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:yingfeng.ni@gmail.com" title="E-Mail → mailto:yingfeng.ni@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">倪颖峰</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动
     & <a target="_blank" href="https://beian.miit.gov.cn/" title="Semantic Personal Publishing Platform">浙ICP备16020323号-1</a>
  </div>

        






<script>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.id);
      var title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              leancloudSelector(url).innerText = 'Counter not initialized! More info at console err msg.';
              console.error('ATTENTION! LeanCloud counter has security bug, see how to solve it here: https://github.com/theme-next/hexo-leancloud-counter-security. \n However, you can still use LeanCloud without security, by setting `security` option to `false`.');
            
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            let target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    let { app_id, app_key, server_url } = {"enable":true,"app_id":"z3J5VC7OBuKe3Bs1ApRTYaT8-gzGzoHsz","app_key":"jijPF2bP4TXvA3lY4rddhVVF","server_url":null,"security":true};
    function fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    let api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>


      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
